<!DOCTYPE html>
<html lang="en">
    <head>
        
        <meta charset="utf-8" />

        <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
        Remove this if you use the .htaccess -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

        <title>psx</title>
        <meta name="description" content="" />
        <meta name="author" content="onezeros" />

        <meta name="viewport" content="width=device-width; initial-scale=1.0" />

        <!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
        <link rel="shortcut icon" href="/favicon.ico" />
		
<script language="Javascript" src="PsxEngine/psx.js"></script>
<script language="Javascript" src="PsxEngine/psx.util.js"></script>
<script language="Javascript" src="PsxEngine/psx.image.js"></script>
<script language="Javascript" src="PsxEngine/psx.image.mode.js"></script>
<script language="Javascript" src="PsxEngine/psx.image.adjustments.js"></script>
<script language="Javascript" src="PsxEngine/psx.filter.js"></script>
<script language="Javascript" src="PsxEngine/psx.filter.blur.js"></script>
<script language="Javascript" src="PsxEngine/psx.filter.distort.js"></script>
<script language="Javascript" src="PsxEngine/psx.filter.stylize.js"></script>
<script language="Javascript" src="PsxEngine/psx.filter.other.js"></script>
<script language="Javascript" src="PsxEngine/psx.layer.js"></script>
<script language="Javascript" src="PsxEngine/psx.filter.convolution.js"></script>


<script language="Javascript" src="PsxEffects/PsxEffects.js"></script>
<script language="Javascript" src="PsxEffects/PsxEffects.color.js"></script>
<script language="Javascript" src="PsxEffects/PsxEffects.colorshift.js"></script>
<script language="Javascript" src="PsxEffects/PsxEffects.deform.js"></script>
<script language="Javascript" src="PsxEffects/PsxEffects.funny.js"></script>
<script language="Javascript" src="PsxEffects/PsxEffects.instagram.js"></script>
<script language="Javascript" src="PsxEffects/PsxEffects.sketch.js"></script>
<script language="Javascript" src="PsxEffects/PsxEffects.convolution.js"></script>
        <script>
        
startList = function() 
{
if (document.all&&document.getElementById) 
{
navRoot = document.getElementById("nav");
for (i=0; i<navRoot.childNodes.length; i++) 
{
node = navRoot.childNodes[ i ];
if (node.nodeName=="LI") 
{
node.onmouseover=function() 
{this.className+=" over";}
node.onmouseout=function() 
{this.className=this.className.replace(" over", "");}
}
}
}
}
window.onload=startList;
</script>
<style>
body {
font: normal 11px verdana;
}

ul {
margin: 0;
padding: 0;
list-style: none;
width: 150px; /* Width of Menu Items */
border-bottom: 1px solid #ccc;
}

ul li {
position: relative;
}

li ul {
position: absolute;
left: 149px; /* Set 1px less than menu width */
top: 0;
display: none;
}

/* Styles for Menu Items */
ul li {
display: block;
text-decoration: none;
color: #777;
background: #fff; /* IE6 Bug */
padding: 5px;
border: 1px solid #ccc;
border-bottom: 0;
}

/* Fix IE. Hide from IE Mac \*/
* html ul li { float: left; height: 1%; }
* html ul li { height: 1%; }
/* End */

ul li :hover { color: #E2144A; background: #f9f9f9; } /* Hover Styles */

li ul li { padding: 2px 5px; } /* Sub Menu Styles */

li:hover ul, li.over ul { display: block; } /* The magic */
</style>

    </head>

    <body >
        <script type="text/javascript">
            PsxEffects.initialize();
        </script>

        <div>
            <header>
                <h1>psx </h1>
            </header>
            
            <ul id="nav">
                <!--<li>
                    Layer Blend test
                    <ul>
                        <li onclick="performEffect('blendNormal')">blendNormal</li>
                        <li onclick="performEffect('blendOverlay')">blendOverlay</li>
                    </ul>
                    
                </li> -->
                <li>
                    Color
                    <ul>
                        <li onclick="performEffect('blackwhite')">blackwhite</li>
                        <li onclick="performEffect('invert')">invert</li>
                        <li onclick="performEffect('infrared')">infrared</li>
						<li onclick="performEffect('sepia')">sepia</li>
						<li onclick="performEffect('bluetone')">bluetone</li>
						<li onclick="performEffect('greentone')">greentone</li>
                        <li onclick="performEffect('solarize')">solarize</li>
                        <li onclick="performEffect('emboss')">emboss</li>
                    </ul>
                </li>
                <li>
                    Instagram
                    <ul>
                        <li onclick="performEffect('instagram1')">i1</li>
                        <li onclick="performEffect('instagram2')">i2</li>
                        <li onclick="performEffect('instagram3')">i3</li>
                        <li onclick="performEffect('instagram4')">i4</li>
                        <li onclick="performEffect('instagram5')">i5</li>
                        <li onclick="performEffect('instagram6')">i6</li>
                        <li onclick="performEffect('instagram7')">i7</li>
                        <li onclick="performEffect('instagram8')">i8</li>
                        <li onclick="performEffect('instagram9')">i9</li>
                        <li onclick="performEffect('instagram10')">i10</li>
                    </ul>
                </li>
                <li>
                    Sketch
                    <ul>
                        <li onclick="performEffect('sketch1')">s1</li>
                    </ul>
                </li>
                <li>
                    Deform
                    <ul>
                        <li onclick="performEffect('fisheye')">fisheye</li>
                        <li onclick="performEffect('shrink')">shrink</li>
                        <li onclick="performEffect('swirl')">swirl</li>
                        <li onclick="performEffect('mosaic')">mosaic</li>
                        <li onclick="performEffect('mirrorright2left')">mirrorright2left</li>
                        <li onclick="performEffect('mirrorleft2right')">mirrorleft2right</li>
                        <li onclick="performEffect('mirrortop2bottom')">mirrortop2bottom</li>
                        <li onclick="performEffect('mirrorbottom2top')">mirrorbottom2top</li>
                    </ul>
                </li>
                <li>
                    ColorShift
                    <ul>
                        <li onclick="performEffect('color1')">c1</li>
                        <li onclick="performEffect('color2')">c2</li>
                        <li onclick="performEffect('color3')">c3</li>
                        <li onclick="performEffect('color4')">c4</li>
                        <li onclick="performEffect('color5')">c5</li>
                    </ul>
                </li>
                
				<li>
					Convolution
					<ul>
						<li onclick="performEffect('edgedetect')">EdgeDetect</li>
						<li onclick="performEffect('sharpen')">Sharpen</li>
						<li onclick="performEffect('unsharp')">Unsharp</li>
						<li onclick="performEffect('emboss')">Emboss</li>
						<li onclick="performEffect('blur')">Blur</li>
					</ul>
				</li>
				<li>
                    Funny
                    <ul>
                        <li onclick="">f1</li>
                        <li onclick="">f2</li>
                    </ul>
                </li>
            </ul>
<canvas id="myCanvas" width="600" height="337" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>
<img id="scream" src="jelleyfish.jpg" alt="The Scream" width="600" height="337" />
  
<script type="text/javascript">

performEffect=function(type){
  var c=document.getElementById("myCanvas");
  var ctx=c.getContext("2d");
  var img=document.getElementById("scream");
  ctx.drawImage(img,0,0);
  var imgData=ctx.getImageData(0,0,c.width,c.height);
   
  var effectmap = new Object();
  //color
  effectmap['invert'] = PsxEffects.Color.invertColor;
  effectmap['blackwhite'] = PsxEffects.Color.blackwhite;
  effectmap['infrared'] = PsxEffects.Color.infrared;
  effectmap['bluetone'] = PsxEffects.Color.bluetone;
  effectmap['greentone'] = PsxEffects.Color.greentone;
  effectmap['sepia'] = PsxEffects.Color.sepia;
  effectmap['solarize'] = PsxEffects.Color.solarize;
  effectmap['emboss'] = PsxEffects.Color.emboss;
  // colorshift
  effectmap['color1'] = PsxEffects.ColorShift.color1;
  effectmap['color2'] = PsxEffects.ColorShift.color2;
  effectmap['color3'] = PsxEffects.ColorShift.color3;
  effectmap['color4'] = PsxEffects.ColorShift.color4;
  effectmap['color5'] = PsxEffects.ColorShift.color5;
  // instagram group
  effectmap['instagram1'] = PsxEffects.Instagram.instagram1;
  effectmap['instagram2'] = PsxEffects.Instagram.instagram2;
  effectmap['instagram3'] = PsxEffects.Instagram.instagram3;
  effectmap['instagram4'] = PsxEffects.Instagram.instagram4;
  effectmap['instagram5'] = PsxEffects.Instagram.instagram5;
  effectmap['instagram6'] = PsxEffects.Instagram.instagram6;
  effectmap['instagram7'] = PsxEffects.Instagram.instagram7;
  effectmap['instagram8'] = PsxEffects.Instagram.instagram8;
  effectmap['instagram9'] = PsxEffects.Instagram.instagram9;
  effectmap['instagram10'] = PsxEffects.Instagram.instagram10;
  // sketch
  effectmap['sketch1'] = PsxEffects.Sketch.sketch1;
  //deform
  effectmap['mirrorbottom2top'] = function(src,dst){
    PsxEffects.Deform.mirror(src,dst,'bottom2top');
  };
  effectmap['mirrortop2bottom'] = function(src,dst){
    PsxEffects.Deform.mirror(src,dst,'top2bottom');
  };
  effectmap['mirrorleft2right'] = function(src,dst){
    PsxEffects.Deform.mirror(src,dst,'left2right');
  };
  effectmap['mirrorright2left'] = function(src,dst){
    PsxEffects.Deform.mirror(src,dst,'right2left');
  };
  effectmap['fisheye'] = PsxEffects.Deform.fisheye;
  effectmap['shrink'] = PsxEffects.Deform.shrink;
  effectmap['swirl'] = PsxEffects.Deform.swirl;
  effectmap['mosaic'] = PsxEffects.Deform.mosaic;
  //Convolution
  effectmap['edgedetect']= PsxEffects.Convolution.edgedetect;
  effectmap['sharpen']= PsxEffects.Convolution.sharpen;
  effectmap['unsharp']= PsxEffects.Convolution.unsharp;
  effectmap['emboss']= PsxEffects.Convolution.emboss;
  effectmap['blur']= PsxEffects.Convolution.blur;
  
  //Layer Blend test
/*  effectmap['blendOverlay'] = function(src,dst){
      PSX.Layer.test(src,dst,'blendOverlay');
  };
  */
 
  var effectFunc = effectmap[type];   
  effectFunc(imgData,imgData);
  ctx.putImageData(imgData,0,0);
};
</script>

            <footer>
                <h1>Powered by Open Source Image Processing Library: <a title="psx" href="https://github.com/zhijie/psx">PSX</a></h1>
                <br/>
                <h3>Theme by <a href="http://goapple.me/">goapple</a></h3>
                <p> 
                    &copy; Copyright  by Zhijie Lee
                </p>
            </footer>
        </div>
    </body>
</html>
